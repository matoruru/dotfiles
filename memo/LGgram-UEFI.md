# Gentoo Linux UEFI boot on LG gram without using GRUB
- date (fit to UTC time)
- gdisk /dev/sda
    - o
    - n
    - Enter
    - Enter
    - +512M
    - EF00
    - n
    - Enter
    - Enter
    - +4G
    - 8200
    - n
    - Enter
    - Enter
    - +50G
    - Enter
    - w
- mkfs.vfat -F 32 /dev/sda1
- mkfs.ext4 /dev/sda3
- mkswap /dev/sda2
- swapon /dev/sda2
- mount /dev/sda3 /mnt/gentoo
- mkdir /mnt/gentoo/boot
- mount /dev/sda1 /mnt/gentoo/boot
- cd /mnt/gentoo
- (download stage3 tarball (i did it using firefox), Do not select no-multilib!!)
- (extract tarball)
    - tar -xvjpf stage3* --xattrs --numeric-owner (in case of bz2)
    - tar -xvJpf stage3* --xattrs --numeric-owner (in case of bz)
- nano -w /mnt/gentoo/etc/portage/make.conf
    - CFLAGS
    - CXXFLAGS
    - MAKEOPTS
- mirrorselect -io >> /mnt/gentoo/etc/portage/make.conf
- cp -L /etc/resolv.conf /mnt/gentoo/etc/
- mount -t proc /proc /mnt/gentoo/proc
- mount --rbind /dev /mnt/gentoo/dev
- mount --rbind /sys /mnt/gentoo/sys
- chroot /mnt/gentoo /bin/bash
- source /etc/profile
- emerge-webrsync
- echo "Asia/Tokyo" > /etc/timezone
- emerge --config sys-libs/timezone-data
- eselect profile list
- eselect profile set XX
- nano -w /etc/fstab
    - /dev/sda1 /boot vfat noauto,noatime 0 2
    - /dev/sda3 / ext4 noatime 0 1
- nano -w /etc/locale.gen
- locale-gen
- eselect locale list
- eselect locale set YY
- env-update && source /etc/profile
- emerge -avuDN @world gentoo-sources genkernel efibootmgr wireless-tools wpa_supplicant linux-firmware sudo dev-vcs/git
- cd
- git clone https://github.com/matoruru/dotfiles.git
- cd /usr/src/linux
- make mrproper
- cp ~/dotfiles/.config ./
- make -j7 && make modules_install && make install && genkernel --kernel-config=.config initramfs
- cd /boot
- mkdir -p efi/boot
- cp vmlinuz*-gentoo efi/boot/bootx64.efi
- mount -o remount,rw /sys/firmware/efi/efivars
- efibootmgr -v
- efibootmgr -b X -B (if you want to delete any entry point)
- efibootmgr -c --part 1 -d /dev/sda -L "Gentoo 1 (/dev/sda1)" -l "\efi\boot\bootx64.efi" -u "root=/dev/sda3 rw initrd=/initramfs-genkernel-x86_64.X.XX.XX-gentoo"
- nano -w /etc/conf.d/net
    - module_wlp2s0="dhcp"
    - modules="wpa_supplicant"
    - wpa_supplicant_wlp2s0="-Dwext"
- cd /etc/init.d
- ln -s net.lo net.wlp2s0
- rc-update add net.wlp2s0 default
- wpa_passphrase "SSID" "PASSPHRASE" > /etc/wpa_supplicant/wpa_supplicant.conf
- useradd -m -G wheel,portage,audio XXX
- passwd XXX
- visudo ( nopasswd )
- Ctrl D
- reboot
- mkdir -p ~/repositories/matoruru
- cd ~/repositories/matoruru
- git clone https://github.com/matoruru/dotfiles.git
- cd repositories/matoruru/dotfiles
- bash install.sh
- ssh-keygen -t rsa -b 4096 -C "my email address"
- git remote set-url origin git@github.com:matoruru/[repositoriy's name].git
